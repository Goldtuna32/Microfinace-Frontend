"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[506],{506:(S,u,i)=>{i.r(u),i.d(u,{HistoryComponent:()=>F});var e=i(9159),d=i(3430),l=i(2042),c=i(177),t=i(4438),_=i(8498),p=i(7965);const h=()=>[5,10,20];function f(a,n){1&a&&(t.j41(0,"div",15),t.EFF(1," No transactions available. "),t.k0s())}function y(a,n){1&a&&(t.j41(0,"th",16),t.EFF(1,"ID"),t.k0s())}function g(a,n){if(1&a&&(t.j41(0,"td",17),t.EFF(1),t.k0s()),2&a){const o=n.$implicit;t.R7$(),t.JRh(o.id)}}function C(a,n){1&a&&(t.j41(0,"th",16),t.EFF(1,"Date"),t.k0s())}function E(a,n){if(1&a&&(t.j41(0,"td",17),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&a){const o=n.$implicit;t.R7$(),t.JRh(t.i5U(2,1,o.transactionDate,"short"))}}function D(a,n){1&a&&(t.j41(0,"th",16),t.EFF(1,"Amount"),t.k0s())}function R(a,n){if(1&a&&(t.j41(0,"td",17),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&a){const o=n.$implicit;t.R7$(),t.JRh(t.bMT(2,1,o.amount))}}function T(a,n){1&a&&(t.j41(0,"th",18),t.EFF(1,"Status"),t.k0s())}function x(a,n){if(1&a&&(t.j41(0,"td",17)(1,"span",19),t.EFF(2),t.k0s()()),2&a){const o=n.$implicit;t.R7$(),t.Y8G("ngClass","SUCCESS"===o.status?"bg-green-500":"bg-red-500"),t.R7$(),t.SpI(" ",o.status," ")}}function I(a,n){1&a&&t.nrm(0,"tr",20)}function v(a,n){1&a&&t.nrm(0,"tr",21)}let F=(()=>{class a{constructor(o,s){this.route=o,this.transactionService=s,this.dataSource=new e.I6([]),this.displayedColumns=["id","transactionDate","amount","status"]}ngOnInit(){this.route.paramMap.subscribe(o=>{const s=o.get("accountId");s&&(this.accountId=+s,console.log("\u2705 Account ID from route:",this.accountId),this.loadTransactions())})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadTransactions(){this.accountId&&this.transactionService.getTransactionsByAccount(this.accountId).subscribe({next:o=>{console.log("\u2705 Transactions fetched for Account:",this.accountId,o),this.dataSource.data=o.content||o,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:o=>console.error("\u274c Error loading transactions:",o)})}static{this.\u0275fac=function(s){return new(s||a)(t.rXU(_.nX),t.rXU(p.k))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-history"]],viewQuery:function(s,r){if(1&s&&(t.GBs(d.iy,5),t.GBs(l.B4,5)),2&s){let m;t.mGM(m=t.lsd())&&(r.paginator=m.first),t.mGM(m=t.lsd())&&(r.sort=m.first)}},decls:21,vars:6,consts:[[1,"container","mx-auto","mt-6","p-6","bg-white","shadow-lg","rounded-lg"],[1,"text-2xl","font-semibold","text-gray-700","mb-4"],["class","text-gray-600 text-center py-4",4,"ngIf"],[1,"overflow-x-auto"],["mat-table","","matSort","",1,"mat-elevation-z8","w-full","border","border-gray-200","shadow-md",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","class","py-2 px-4",4,"matHeaderCellDef"],["mat-cell","","class","py-2 px-4",4,"matCellDef"],["matColumnDef","transactionDate"],["matColumnDef","amount"],["matColumnDef","status"],["mat-header-cell","","class","py-2 px-4",4,"matHeaderCellDef"],["mat-header-row","","class","bg-gray-100",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mt-4",3,"pageSizeOptions"],[1,"text-gray-600","text-center","py-4"],["mat-header-cell","","mat-sort-header","",1,"py-2","px-4"],["mat-cell","",1,"py-2","px-4"],["mat-header-cell","",1,"py-2","px-4"],[1,"px-2","py-1","rounded","text-white",3,"ngClass"],["mat-header-row","",1,"bg-gray-100"],["mat-row",""]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"Transaction History"),t.k0s(),t.DNE(3,f,2,0,"div",2),t.j41(4,"div",3)(5,"table",4),t.qex(6,5),t.DNE(7,y,2,0,"th",6)(8,g,2,1,"td",7),t.bVm(),t.qex(9,8),t.DNE(10,C,2,0,"th",6)(11,E,3,4,"td",7),t.bVm(),t.qex(12,9),t.DNE(13,D,2,0,"th",6)(14,R,3,3,"td",7),t.bVm(),t.qex(15,10),t.DNE(16,T,2,0,"th",11)(17,x,3,2,"td",7),t.bVm(),t.DNE(18,I,1,0,"tr",12)(19,v,1,0,"tr",13),t.k0s()(),t.nrm(20,"mat-paginator",14),t.k0s()),2&s&&(t.R7$(3),t.Y8G("ngIf",0===r.dataSource.data.length),t.R7$(2),t.Y8G("dataSource",r.dataSource),t.R7$(13),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(5,h)))},dependencies:[c.MD,c.YU,c.bT,c.oe,c.vh,e.tP,e.Zl,e.tL,e.ji,e.cC,e.YV,e.iL,e.KS,e.$R,e.YZ,e.NB,d.Ou,d.iy,l.NQ,l.B4,l.aE],encapsulation:2})}}return a})()}}]);