"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[786],{1786:(ot,g,s)=>{s.r(g),s.d(g,{CifListComponent:()=>nt});var c=s(9159),_=s(3430),m=s(9115),p=s(2042),v=s(9213),h=s(9183),d=s(177),x=s(9956),k=s(6543),j=s(4823),u=s(5351),C=s(7035),t=s(4438);function R(i,r){if(1&i&&t.nrm(0,"p-image",37),2&i){const e=t.XpG();t.Y8G("src",e.cif.fNrcPhotoUrl)("preview",!0)}}function I(i,r){1&i&&(t.j41(0,"div",38)(1,"p",39),t.EFF(2,"No Front NRC Image Available"),t.k0s()())}function w(i,r){if(1&i&&t.nrm(0,"p-image",40),2&i){const e=t.XpG();t.Y8G("src",e.cif.bNrcPhotoUrl)("preview",!0)}}function E(i,r){1&i&&(t.j41(0,"div",38)(1,"p",39),t.EFF(2,"No Back NRC Image Available"),t.k0s()())}let D=(()=>{class i{constructor(e,o){this.dialogRef=e,this.cif=o}ngOnInit(){console.log("CIF Data:",this.cif)}closeDialog(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(u.CP),t.rXU(u.Vh))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-cif-detail-modal"]],decls:121,vars:24,consts:[["noFrontNrc",""],["noBackNrc",""],[1,"flex","flex-col","h-full","max-h-[90vh]"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","text-white","p-4","flex","items-center","justify-between"],[1,"text-2xl","font-bold","tracking-wide"],[1,"pi","pi-id-card","text-2xl","text-white"],[1,"flex-1","overflow-y-auto","bg-white","text-gray-800","p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"flex","items-start","border","border-gray-100","rounded-lg","p-3","hover:border-gray-200","transition-colors"],[1,"pi","pi-user","text-indigo-400","mr-2","mt-1"],[1,"text-sm","text-gray-600","font-medium"],[1,"text-lg","text-gray-800"],[1,"pi","pi-address-book","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-calendar","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-venus-mars","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-phone","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-envelope","text-indigo-400","mr-2","mt-1"],[1,"md:col-span-2","flex","items-start","border","border-gray-100","rounded-lg","p-3","hover:border-gray-200","transition-colors"],[1,"pi","pi-home","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-heart","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-briefcase","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-dollar","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-clock","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-building","text-indigo-400","mr-2","mt-1"],[1,"pi","pi-check-circle","text-indigo-400","mr-2","mt-1"],[3,"ngClass"],[1,"mt-6","border-t","pt-6"],[1,"text-xl","font-semibold","text-gray-800","mb-4","flex","items-center"],[1,"pi","pi-images","text-blue-500","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-center"],[1,"text-sm","font-medium","text-gray-600","mb-2"],["alt","Front NRC","width","225","height","276","class","rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 cursor-pointer border border-gray-200",3,"src","preview",4,"ngIf","ngIfElse"],["alt","Back NRC","width","225","height","276","class","rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 cursor-pointer border border-gray-200",3,"src","preview",4,"ngIf","ngIfElse"],[1,"bg-gray-50","p-3","flex","justify-end","border-t","border-gray-200"],[1,"bg-red-600","text-white","px-2","py-1","text-sm","rounded","hover:bg-red-700","transition-colors","duration-200","flex","items-center","gap-1",3,"click"],[1,"pi","pi-times","text-sm"],["alt","Front NRC","width","225","height","276",1,"rounded-lg","shadow-md","hover:shadow-xl","transition-shadow","duration-300","cursor-pointer","border","border-gray-200",3,"src","preview"],[1,"bg-gray-100","rounded-lg","shadow-md","flex","items-center","justify-center","h-[276px]","w-full","border","border-gray-200"],[1,"text-gray-500"],["alt","Back NRC","width","225","height","276",1,"rounded-lg","shadow-md","hover:shadow-xl","transition-shadow","duration-300","cursor-pointer","border","border-gray-200",3,"src","preview"]],template:function(o,n){if(1&o){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h2",4),t.EFF(3,"CIF Details"),t.k0s(),t.nrm(4,"i",5),t.k0s(),t.j41(5,"div",6)(6,"div",7)(7,"div",8),t.nrm(8,"i",9),t.j41(9,"div")(10,"p",10),t.EFF(11,"Name"),t.k0s(),t.j41(12,"p",11),t.EFF(13),t.k0s()()(),t.j41(14,"div",8),t.nrm(15,"i",12),t.j41(16,"div")(17,"p",10),t.EFF(18,"NRC Number"),t.k0s(),t.j41(19,"p",11),t.EFF(20),t.k0s()()(),t.j41(21,"div",8),t.nrm(22,"i",13),t.j41(23,"div")(24,"p",10),t.EFF(25,"Date of Birth"),t.k0s(),t.j41(26,"p",11),t.EFF(27),t.nI1(28,"date"),t.k0s()()(),t.j41(29,"div",8),t.nrm(30,"i",14),t.j41(31,"div")(32,"p",10),t.EFF(33,"Gender"),t.k0s(),t.j41(34,"p",11),t.EFF(35),t.k0s()()(),t.j41(36,"div",8),t.nrm(37,"i",15),t.j41(38,"div")(39,"p",10),t.EFF(40,"Phone"),t.k0s(),t.j41(41,"p",11),t.EFF(42),t.k0s()()(),t.j41(43,"div",8),t.nrm(44,"i",16),t.j41(45,"div")(46,"p",10),t.EFF(47,"Email"),t.k0s(),t.j41(48,"p",11),t.EFF(49),t.k0s()()(),t.j41(50,"div",17),t.nrm(51,"i",18),t.j41(52,"div")(53,"p",10),t.EFF(54,"Address"),t.k0s(),t.j41(55,"p",11),t.EFF(56),t.k0s()()(),t.j41(57,"div",8),t.nrm(58,"i",19),t.j41(59,"div")(60,"p",10),t.EFF(61,"Marital Status"),t.k0s(),t.j41(62,"p",11),t.EFF(63),t.k0s()()(),t.j41(64,"div",8),t.nrm(65,"i",20),t.j41(66,"div")(67,"p",10),t.EFF(68,"Occupation"),t.k0s(),t.j41(69,"p",11),t.EFF(70),t.k0s()()(),t.j41(71,"div",8),t.nrm(72,"i",21),t.j41(73,"div")(74,"p",10),t.EFF(75,"Income Source"),t.k0s(),t.j41(76,"p",11),t.EFF(77),t.k0s()()(),t.j41(78,"div",8),t.nrm(79,"i",22),t.j41(80,"div")(81,"p",10),t.EFF(82,"Created At"),t.k0s(),t.j41(83,"p",11),t.EFF(84),t.nI1(85,"date"),t.k0s()()(),t.j41(86,"div",8),t.nrm(87,"i",23),t.j41(88,"div")(89,"p",10),t.EFF(90,"Branch ID"),t.k0s(),t.j41(91,"p",11),t.EFF(92),t.k0s()()(),t.j41(93,"div",8),t.nrm(94,"i",24),t.j41(95,"div")(96,"p",10),t.EFF(97,"Has Current Account"),t.k0s(),t.j41(98,"p",25),t.EFF(99),t.k0s()()()(),t.j41(100,"div",26)(101,"h3",27),t.nrm(102,"i",28),t.EFF(103," NRC Photos "),t.k0s(),t.j41(104,"div",29)(105,"div",30)(106,"p",31),t.EFF(107,"Front NRC"),t.k0s(),t.DNE(108,R,1,2,"p-image",32)(109,I,3,0,"ng-template",null,0,t.C5r),t.k0s(),t.j41(111,"div",30)(112,"p",31),t.EFF(113,"Back NRC"),t.k0s(),t.DNE(114,w,1,2,"p-image",33)(115,E,3,0,"ng-template",null,1,t.C5r),t.k0s()()(),t.j41(117,"div",34)(118,"button",35),t.bIt("click",function(){return t.eBV(a),t.Njj(n.closeDialog())}),t.nrm(119,"i",36),t.EFF(120," Close "),t.k0s()()()()}if(2&o){const a=t.sdS(110),l=t.sdS(116);t.R7$(13),t.JRh(n.cif.name),t.R7$(7),t.JRh(n.cif.nrcNumber),t.R7$(7),t.JRh(t.i5U(28,18,n.cif.dob,"longDate")),t.R7$(8),t.JRh(n.cif.gender),t.R7$(7),t.JRh(n.cif.phoneNumber),t.R7$(7),t.JRh(n.cif.email),t.R7$(7),t.JRh(n.cif.address),t.R7$(7),t.JRh(n.cif.maritalStatus),t.R7$(7),t.JRh(n.cif.occupation),t.R7$(7),t.JRh(n.cif.incomeSource),t.R7$(7),t.JRh(t.i5U(85,21,n.cif.createdAt,"long")),t.R7$(8),t.JRh(n.cif.branchId),t.R7$(6),t.Y8G("ngClass",n.cif.hasCurrentAccount?"text-green-400 font-semibold":"text-red-400 font-semibold"),t.R7$(),t.SpI(" ",n.cif.hasCurrentAccount?"Yes":"No"," "),t.R7$(9),t.Y8G("ngIf",n.cif.fNrcPhotoUrl)("ngIfElse",a),t.R7$(6),t.Y8G("ngIf",n.cif.bNrcPhotoUrl)("ngIfElse",l)}},dependencies:[d.MD,d.YU,d.bT,d.vh,C.UE,C._V],styles:[".custom-dialog-container[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0;border-radius:.5rem;overflow:hidden;background:transparent;box-shadow:none}"]})}}return i})();var b=s(8834),P=s(9609),y=s(8498),N=s(2071),$=s(1626);const L=(i,r)=>({"bi-check-circle text-green-600":i,"bi-plus-circle text-blue-600":r});function M(i,r){1&i&&(t.j41(0,"div",27),t.nrm(1,"mat-spinner",28),t.k0s())}function T(i,r){if(1&i&&(t.j41(0,"div",29),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}function V(i,r){1&i&&(t.j41(0,"th",30),t.EFF(1,"Serial Number"),t.k0s())}function G(i,r){if(1&i&&(t.j41(0,"td",31),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(e.serialNumber||"N/A")}}function A(i,r){1&i&&(t.j41(0,"th",30),t.EFF(1,"Name"),t.k0s())}function S(i,r){if(1&i&&(t.j41(0,"td",31),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(e.name)}}function O(i,r){1&i&&(t.j41(0,"th",30),t.EFF(1,"NRC Number"),t.k0s())}function X(i,r){if(1&i&&(t.j41(0,"td",31),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(e.nrcNumber)}}function B(i,r){1&i&&(t.j41(0,"th",30),t.EFF(1,"DOB"),t.k0s())}function U(i,r){if(1&i&&(t.j41(0,"td",31),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(t.i5U(2,1,e.dob,"shortDate"))}}function Y(i,r){1&i&&(t.j41(0,"th",30),t.EFF(1,"Phone"),t.k0s())}function J(i,r){if(1&i&&(t.j41(0,"td",31),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(e.phoneNumber)}}function H(i,r){1&i&&(t.j41(0,"th",30),t.EFF(1,"Email"),t.k0s())}function z(i,r){if(1&i&&(t.j41(0,"td",31),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.R7$(),t.JRh(e.email)}}function Q(i,r){1&i&&(t.j41(0,"th",32),t.EFF(1,"Actions"),t.k0s())}function Z(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"button",37),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,a=t.XpG();return t.Njj(a.editCIF(n))}),t.nrm(2,"i",38),t.j41(3,"span"),t.EFF(4,"Edit"),t.k0s()(),t.j41(5,"button",39),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,a=t.XpG();return t.Njj(a.deleteCIF(n.id))}),t.nrm(6,"i",40),t.j41(7,"span"),t.EFF(8,"Delete"),t.k0s()(),t.j41(9,"button",41),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,a=t.XpG();return t.Njj(a.openCifDetailDialog(n))}),t.nrm(10,"i",42),t.j41(11,"span"),t.EFF(12,"View Details"),t.k0s()(),t.j41(13,"button",43),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,a=t.XpG();return t.Njj(a.openCurrentAccountDialog(n))}),t.nrm(14,"i",44),t.j41(15,"span"),t.EFF(16),t.k0s()(),t.bVm()}if(2&i){const e=t.XpG().$implicit;t.R7$(13),t.Y8G("disabled",e.hasCurrentAccount),t.R7$(),t.Y8G("ngClass",t.l_i(3,L,e.hasCurrentAccount,!e.hasCurrentAccount)),t.R7$(2),t.JRh(e.hasCurrentAccount?"Already Created":"Create Account")}}function K(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"button",41),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,a=t.XpG();return t.Njj(a.restoreCIF(n.id))}),t.nrm(2,"i",45),t.j41(3,"span"),t.EFF(4,"Restore"),t.k0s()(),t.j41(5,"button",41),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,a=t.XpG();return t.Njj(a.openCifDetailDialog(n))}),t.nrm(6,"i",42),t.j41(7,"span"),t.EFF(8,"View Details"),t.k0s()(),t.bVm()}}function W(i,r){if(1&i&&(t.j41(0,"td",31)(1,"div",33)(2,"button",34),t.EFF(3," Actions "),t.k0s(),t.j41(4,"mat-menu",35,0),t.DNE(6,Z,17,6,"ng-container",36)(7,K,9,0,"ng-container",36),t.k0s()()()),2&i){const e=t.sdS(5),o=t.XpG();t.R7$(2),t.Y8G("matMenuTriggerFor",e),t.R7$(4),t.Y8G("ngIf",!o.isDeletedView),t.R7$(),t.Y8G("ngIf",o.isDeletedView)}}function q(i,r){1&i&&t.nrm(0,"tr",46)}function tt(i,r){1&i&&t.nrm(0,"tr",47)}function et(i,r){if(1&i){const e=t.RV6();t.j41(0,"li",50)(1,"a",56),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.goToPage(n))}),t.EFF(2),t.k0s()()}if(2&i){const e=r.$implicit,o=t.XpG(2);t.AVh("active",e===o.currentPage),t.R7$(2),t.JRh(e)}}function it(i,r){if(1&i){const e=t.RV6();t.j41(0,"nav",48)(1,"ul",49)(2,"li",50)(3,"a",51),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.previousPage())}),t.j41(4,"span",52),t.EFF(5,"\xab"),t.k0s(),t.j41(6,"span",53),t.EFF(7,"Previous"),t.k0s()()(),t.DNE(8,et,3,3,"li",54),t.j41(9,"li",50)(10,"a",55),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.nextPage())}),t.j41(11,"span",52),t.EFF(12,"\xbb"),t.k0s(),t.j41(13,"span",53),t.EFF(14,"Next"),t.k0s()()()()()}if(2&i){const e=t.XpG();t.R7$(2),t.AVh("disabled",1===e.currentPage),t.R7$(6),t.Y8G("ngForOf",e.getPageNumbers()),t.R7$(),t.AVh("disabled",e.currentPage===e.totalPages)}}let nt=(()=>{class i{constructor(e,o,n,a,l){this.cifService=e,this.router=o,this.dialog=n,this.currentAccountService=a,this.http=l,this.displayedColumns=["SerialNumber","name","nrcNumber","dob","phoneNumber","email","actions"],this.dataSource=new c.I6([]),this.loading=!0,this.errorMessage="",this.isDeletedView=!1,this.fullCifList=[],this.currentPage=1,this.pageSize=10,this.totalPages=0}ngOnInit(){this.loadCIFs()}loadCIFs(){this.loading=!0,this.errorMessage="",(this.isDeletedView?this.cifService.getDeletedCIFs():this.cifService.getAllCIFs()).subscribe({next:o=>{console.log("\u2705 API Response:",o),o&&0!==o.length?(this.fullCifList=o,this.totalPages=Math.ceil(this.fullCifList.length/this.pageSize),this.updatePaginatedData(),this.fullCifList.forEach(n=>this.checkCurrentAccount(n))):(console.warn("\u26a0\ufe0f No CIFs found in response"),this.dataSource.data=[],this.fullCifList=[],this.errorMessage="No CIFs found.",this.totalPages=0),this.loading=!1},error:o=>{console.error("\u274c API Error:",o),this.loading=!1,this.errorMessage="Failed to load CIF list.",this.dataSource.data=[],this.fullCifList=[],this.totalPages=0}})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.sort.sortChange.subscribe(()=>{this.dataSource.sort=this.sort,this.currentPage=1,this.updatePaginatedData()})}updatePaginatedData(){const e=(this.currentPage-1)*this.pageSize,o=Math.min(e+this.pageSize,this.fullCifList.length);this.dataSource.data=this.fullCifList.slice(e,o)}toggleView(){this.isDeletedView=!this.isDeletedView,this.currentPage=1,this.loadCIFs()}applyFilter(e){const o=e.target.value.trim().toLowerCase();this.dataSource.filter=o,this.currentPage=1,this.updatePaginatedData()}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.updatePaginatedData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePaginatedData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePaginatedData())}getPageNumbers(){return Array.from({length:this.totalPages},(e,o)=>o+1)}checkCurrentAccount(e){this.currentAccountService.hasCurrentAccount(e.id).subscribe({next:o=>{e.hasCurrentAccount=o},error:o=>{console.error(`Failed to check current account for CIF ${e.id}:`,o),e.hasCurrentAccount=!1}})}editCIF(e){this.dialog.open(x.CifEditComponent,{width:"400px",data:{...e}}).afterClosed().subscribe(n=>{if(n){const a=n.get("id");if(!a||isNaN(Number(a)))return console.error("Invalid ID from FormData:",a),void alert("Failed to update CIF: Invalid ID.");this.cifService.updateCIF(Number(a),n).subscribe({next:()=>{this.loadCIFs(),alert("CIF updated successfully!")},error:l=>{alert("Failed to update CIF."),console.error("Error updating CIF:",l)}})}})}downloadReport(e){const o=this.isDeletedView?"deleted":"active",a=`${o}_cifs_report.${"pdf"===e?"pdf":"xlsx"}`;this.http.get(`http://localhost:8080/api/reports/cif/${o}/${e}`,{responseType:"blob"}).subscribe({next:l=>{const f=document.createElement("a"),F=window.URL.createObjectURL(l);f.href=F,f.download=a,f.click(),window.URL.revokeObjectURL(F)},error:l=>{this.errorMessage=`Error downloading ${e.toUpperCase()} report`,console.error(l)}})}openCurrentAccountDialog(e){e.hasCurrentAccount||this.dialog.open(k.O,{width:"400px",data:{cifId:e.id}}).afterClosed().subscribe(n=>{n&&this.loadCIFs()})}restoreCIF(e){confirm("Are you sure you want to restore this CIF?")&&this.cifService.restoreCIF(e).subscribe({next:()=>{alert("CIF restored successfully."),this.loadCIFs()},error:o=>{alert("Failed to restore CIF."),console.error("Error restoring CIF:",o)}})}deleteCIF(e){confirm("Are you sure you want to delete this CIF?")&&this.cifService.deleteCIF(e).subscribe({next:()=>{alert("CIF deleted successfully."),this.loadCIFs()},error:o=>{alert("Failed to delete CIF."),console.error("Error deleting CIF:",o)}})}openCifDetailDialog(e){this.dialog.open(D,{width:"90%",maxWidth:"900px",height:"auto",maxHeight:"90vh",panelClass:"custom-dialog-container",data:e})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(P.k),t.rXU(y.Ix),t.rXU(u.bZ),t.rXU(N.A),t.rXU($.Qq))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-cif-list"]],viewQuery:function(o,n){if(1&o&&t.GBs(p.B4,5),2&o){let a;t.mGM(a=t.lsd())&&(n.sort=a.first)}},decls:42,vars:8,consts:[["menu","matMenu"],[1,"container","mx-auto","mt-4"],[1,"shadow-lg","rounded-lg","overflow-hidden","bg-white"],[1,"bg-blue-600","text-white","p-4","flex","justify-between","items-center"],[1,"text-lg","font-semibold"],["mat-button","",1,"text-white","hover:bg-blue-700","px-3","py-1","rounded",3,"click"],["mat-button","",1,"text-white","hover:bg-blue-700",3,"click"],[1,"p-6"],["class","text-center my-4",4,"ngIf"],["class","bg-red-500 text-white p-3 rounded mb-3",4,"ngIf"],[1,"mb-4"],["matInput","","placeholder","Search...",1,"w-full","border","rounded-md","p-2","shadow-sm","focus:ring","focus:ring-blue-300",3,"keyup"],[1,"overflow-x-auto"],["mat-table","","matSort","",1,"w-full","border","border-gray-200",3,"dataSource"],["matColumnDef","SerialNumber"],["mat-header-cell","","mat-sort-header","","class","border p-2",4,"matHeaderCellDef"],["mat-cell","","class","border p-2",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","nrcNumber"],["matColumnDef","dob"],["matColumnDef","phoneNumber"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-cell","","class","border p-2 text-center",4,"matHeaderCellDef"],["mat-header-row","","class","bg-gray-100",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Page navigation example","class","mt-4",4,"ngIf"],[1,"text-center","my-4"],["color","primary"],[1,"bg-red-500","text-white","p-3","rounded","mb-3"],["mat-header-cell","","mat-sort-header","",1,"border","p-2"],["mat-cell","",1,"border","p-2"],["mat-header-cell","",1,"border","p-2","text-center"],[1,"relative","inline-block"],["aria-label","Actions menu",1,"text-blue-600","hover:text-blue-800","font-medium","transition-colors","duration-200","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:ring-opacity-50","px-2","py-1","rounded",3,"matMenuTriggerFor"],[1,"w-48","rounded-lg","shadow-lg","bg-white","divide-y","divide-gray-200"],[4,"ngIf"],["mat-menu-item","",1,"flex","items-center","space-x-2","px-4","py-2","text-gray-700","hover:bg-blue-100","rounded","transition",3,"click"],[1,"bi","bi-pencil","text-blue-600"],["mat-menu-item","",1,"flex","items-center","space-x-2","px-4","py-2","text-gray-700","hover:bg-red-100","rounded","transition",3,"click"],[1,"bi","bi-trash","text-red-600"],["mat-menu-item","",1,"flex","items-center","space-x-2","px-4","py-2","text-gray-700","hover:bg-green-100","rounded","transition",3,"click"],[1,"bi","bi-eye","text-green-600"],["mat-menu-item","",1,"flex","items-center","space-x-2","px-4","py-2","text-gray-700","hover:bg-gray-100","rounded","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bi",3,"ngClass"],[1,"bi","bi-arrow-counterclockwise","text-green-600"],["mat-header-row","",1,"bg-gray-100"],["mat-row",""],["aria-label","Page navigation example",1,"mt-4"],[1,"pagination","justify-content-center"],[1,"page-item"],["href","javascript:void(0)","aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["href","javascript:void(0)","aria-label","Next",1,"page-link",3,"click"],["href","javascript:void(0)",1,"page-link",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),t.EFF(4),t.k0s(),t.j41(5,"button",5),t.bIt("click",function(){return n.downloadReport("pdf")}),t.EFF(6," Download PDF "),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return n.downloadReport("excel")}),t.EFF(8," Download Excel "),t.k0s(),t.j41(9,"button",6),t.bIt("click",function(){return n.toggleView()}),t.EFF(10),t.k0s()(),t.j41(11,"div",7),t.DNE(12,M,2,0,"div",8)(13,T,2,1,"div",9),t.j41(14,"div",10)(15,"input",11),t.bIt("keyup",function(l){return n.applyFilter(l)}),t.k0s()(),t.j41(16,"div",12)(17,"table",13),t.qex(18,14),t.DNE(19,V,2,0,"th",15)(20,G,2,1,"td",16),t.bVm(),t.qex(21,17),t.DNE(22,A,2,0,"th",15)(23,S,2,1,"td",16),t.bVm(),t.qex(24,18),t.DNE(25,O,2,0,"th",15)(26,X,2,1,"td",16),t.bVm(),t.qex(27,19),t.DNE(28,B,2,0,"th",15)(29,U,3,4,"td",16),t.bVm(),t.qex(30,20),t.DNE(31,Y,2,0,"th",15)(32,J,2,1,"td",16),t.bVm(),t.qex(33,21),t.DNE(34,H,2,0,"th",15)(35,z,2,1,"td",16),t.bVm(),t.qex(36,22),t.DNE(37,Q,2,0,"th",23)(38,W,8,3,"td",16),t.bVm(),t.DNE(39,q,1,0,"tr",24)(40,tt,1,0,"tr",25),t.k0s()(),t.DNE(41,it,15,5,"nav",26),t.k0s()()()),2&o&&(t.R7$(4),t.JRh(n.isDeletedView?"Deleted CIF List":"CIF List"),t.R7$(6),t.SpI(" ",n.isDeletedView?"Show Active CIFs":"Show Deleted CIFs"," "),t.R7$(2),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.errorMessage),t.R7$(4),t.Y8G("dataSource",n.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",n.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",n.displayedColumns),t.R7$(),t.Y8G("ngIf",n.totalPages>0))},dependencies:[d.MD,d.YU,d.Sq,d.bT,d.vh,c.tP,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,_.Ou,p.NQ,p.B4,p.aE,v.m_,h.D6,h.LG,j.uc,m.Cn,m.kk,m.fb,m.Cp,b.Hl,b.$z],styles:[".container[_ngcontent-%COMP%]{margin-top:2rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:.5rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:2px solid #007bff}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin-top:1rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:700}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.container[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{z-index:10}.container[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{display:block!important}"]})}}return i})()}}]);