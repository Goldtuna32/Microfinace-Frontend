"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[7981],{7981:(E,d,l)=>{l.r(d),l.d(d,{DealerEditComponent:()=>h});var o=l(9417),a=l(177),e=l(4438),c=l(839),m=l(8498);function b(r,s){if(1&r&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&r){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function p(r,s){if(1&r&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&r){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function f(r,s){if(1&r&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&r){const t=s.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.accountNumber," ")}}let h=(()=>{class r{constructor(t,n,i,u){this.fb=t,this.dealerService=n,this.route=i,this.router=u,this.dealerId=null,this.isEditMode=!1}ngOnInit(){this.dealerId=Number(this.route.snapshot.paramMap.get("id")),this.isEditMode=!!this.dealerId,this.dealerForm=this.fb.group({companyName:[""],phoneNumber:[""],status:[""],address:this.fb.group({street:[""],region:[""],district:[""],township:[""]}),currentAccountId:[{value:"",disabled:this.isEditMode}]}),this.isEditMode&&this.loadDealerData()}loadDealerData(){this.dealerId&&this.dealerService.getDealerById(this.dealerId).subscribe(t=>{this.dealerForm.patchValue(t)})}onSubmit(){this.dealerForm.valid&&(this.isEditMode?this.dealerService.updateDealer(this.dealerId,this.dealerForm.value).subscribe(()=>{alert("Dealer updated successfully!"),this.router.navigate(["/dealer-list"])}):this.dealerService.createDealer(this.dealerForm.value).subscribe(()=>{alert("Dealer registered successfully!"),this.router.navigate(["/dealer-list"])}))}cancelEdit(){this.router.navigate(["/dealer-list"])}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(o.ok),e.rXU(c.y),e.rXU(m.nX),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dealer-edit"]],decls:45,vars:7,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-4"],[1,"bg-white","shadow-md","rounded-lg","p-6",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","companyName",1,"block","text-gray-700","font-semibold","mb-2"],["id","companyName","formControlName","companyName","placeholder","Enter company name",1,"form-control","w-full","border","border-gray-300","rounded-md","p-2"],["for","phoneNumber",1,"block","text-gray-700","font-semibold","mb-2"],["id","phoneNumber","formControlName","phoneNumber","placeholder","Enter phone number",1,"form-control","w-full","border","border-gray-300","rounded-md","p-2"],["for","status",1,"block","text-gray-700","font-semibold","mb-2"],["id","status","formControlName","status","placeholder","Enter status",1,"form-control","w-full","border","border-gray-300","rounded-md","p-2"],["formGroupName","address"],["for","street",1,"block","text-gray-700","font-semibold","mb-2"],["id","street","formControlName","street","placeholder","Enter street address",1,"form-control","w-full","border","border-gray-300","rounded-md","p-2"],["for","region",1,"block","text-gray-700","font-semibold","mb-2"],["id","region","formControlName","region",1,"form-select","w-full","border","border-gray-300","rounded-md","p-2"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","district",1,"block","text-gray-700","font-semibold","mb-2"],["id","district","formControlName","district",1,"form-select","w-full","border","border-gray-300","rounded-md","p-2"],["for","currentAccountId",1,"block","text-gray-700","font-semibold","mb-2"],["id","currentAccountId","formControlName","currentAccountId",1,"form-select","w-full","border","border-gray-300","rounded-md","p-2",3,"disabled"],[1,"text-center"],["type","submit",1,"btn","btn-primary","w-full","py-2","px-4","bg-blue-600","text-white","rounded-md","hover:bg-blue-700"],[3,"value"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return i.onSubmit()}),e.j41(4,"div",3)(5,"label",4),e.EFF(6,"Company Name"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"div",3)(9,"label",6),e.EFF(10,"Phone Number"),e.k0s(),e.nrm(11,"input",7),e.k0s(),e.j41(12,"div",3)(13,"label",8),e.EFF(14,"Status"),e.k0s(),e.nrm(15,"input",9),e.k0s(),e.j41(16,"div",10)(17,"div",3)(18,"label",11),e.EFF(19,"Street Address"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div",3)(22,"label",13),e.EFF(23,"Region"),e.k0s(),e.j41(24,"select",14)(25,"option",15),e.EFF(26,"Select Region"),e.k0s(),e.DNE(27,b,2,2,"option",16),e.k0s()(),e.j41(28,"div",3)(29,"label",17),e.EFF(30,"District"),e.k0s(),e.j41(31,"select",18)(32,"option",15),e.EFF(33,"Select District"),e.k0s(),e.DNE(34,p,2,2,"option",16),e.k0s()()(),e.j41(35,"div",3)(36,"label",19),e.EFF(37,"Current Account"),e.k0s(),e.j41(38,"select",20)(39,"option",15),e.EFF(40,"Select Current Account"),e.k0s(),e.DNE(41,f,2,2,"option",16),e.k0s()(),e.j41(42,"div",21)(43,"button",22),e.EFF(44),e.k0s()()()()),2&n&&(e.R7$(2),e.SpI(" ",i.isEditMode?"Edit Dealer":"Register Dealer"," "),e.R7$(),e.Y8G("formGroup",i.dealerForm),e.R7$(24),e.Y8G("ngForOf",i.regions),e.R7$(7),e.Y8G("ngForOf",i.districts),e.R7$(4),e.Y8G("disabled",i.isEditMode),e.R7$(3),e.Y8G("ngForOf",i.currentAccounts),e.R7$(3),e.SpI(" ",i.isEditMode?"Update Dealer":"Register Dealer"," "))},dependencies:[a.MD,a.Sq,o.X1,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.j4,o.JD,o.$R],encapsulation:2})}}return r})()}}]);