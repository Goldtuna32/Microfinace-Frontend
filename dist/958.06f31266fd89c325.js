"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[958],{7958:(H,u,a)=>{a.r(u),a.d(u,{HpProductListComponent:()=>v});var l=a(3430),c=a(177),d=a(8498),t=a(4438),p=a(1645);const g=(o,s,e)=>({"bg-green-100 text-green-800":o,"bg-red-100 text-red-800":s,"bg-gray-100 text-gray-800":e}),h=(o,s,e)=>({"bi-check-circle":o,"bi-x-circle":s,"bi-question-circle":e}),P=o=>["/edit-hp-product",o];function _(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",33),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,n=t.XpG();return t.Njj(n.deleteHpProduct(i.id))}),t.nrm(1,"i",34),t.k0s()}}function b(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,n=t.XpG();return t.Njj(n.restoreHpProduct(i.id))}),t.nrm(1,"i",36),t.k0s()}}function m(o,s){if(1&o){const e=t.RV6();t.j41(0,"tr",24)(1,"td",25)(2,"img",26),t.bIt("error",function(i){t.eBV(e);const n=t.XpG();return t.Njj(n.onImageError(i))}),t.k0s()(),t.j41(3,"td",25),t.EFF(4),t.k0s(),t.j41(5,"td",25),t.EFF(6),t.k0s(),t.j41(7,"td",25)(8,"span",27),t.nrm(9,"i",28),t.EFF(10),t.k0s()(),t.j41(11,"td",25)(12,"button",29),t.nrm(13,"i",30),t.k0s(),t.DNE(14,_,2,0,"button",31)(15,b,2,0,"button",32),t.k0s()()}if(2&o){const e=s.$implicit,r=t.XpG();t.R7$(2),t.Mz_("alt","",e.name," photo"),t.Y8G("src",e.hpProductPhoto,t.B4B),t.R7$(2),t.JRh(e.name),t.R7$(2),t.SpI("$",e.price.toFixed(2),""),t.R7$(2),t.Y8G("ngClass",t.sMw(11,g,1===e.status,2===e.status||0===e.status,void 0===e.status)),t.R7$(),t.Y8G("ngClass",t.sMw(15,h,1===e.status,2===e.status||0===e.status,void 0===e.status)),t.R7$(),t.SpI(" ",r.getStatusDisplay(e.status)," "),t.R7$(2),t.Y8G("routerLink",t.eq3(19,P,e.id)),t.R7$(2),t.Y8G("ngIf",!r.isInactiveView),t.R7$(),t.Y8G("ngIf",r.isInactiveView)}}function f(o,s){if(1&o){const e=t.RV6();t.j41(0,"li",18)(1,"a",37),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.goToPage(i))}),t.EFF(2),t.k0s()()}if(2&o){const e=s.$implicit,r=t.XpG();t.AVh("active",r.currentPage===e),t.R7$(),t.AVh("bg-blue-500",r.currentPage===e)("text-white",r.currentPage===e),t.R7$(),t.SpI(" ",e+1," ")}}let v=(()=>{class o{constructor(e){this.hpProductService=e,this.hpProducts=[],this.filteredHpProducts=[],this.pageSize=5,this.currentPage=0,this.isInactiveView=!1}ngOnInit(){this.loadHpProducts()}loadHpProducts(){this.hpProductService.getAllHpProducts().subscribe({next:e=>{this.hpProducts=e,this.updateFilteredHpProducts(),this.paginator&&(this.paginator.length=this.filteredHpProducts.length,this.paginator.pageIndex=this.currentPage,this.paginator.pageSize=this.pageSize)},error:e=>console.error("Error loading HP products",e)})}updateFilteredHpProducts(e=""){this.filteredHpProducts=this.hpProducts.filter(r=>{const i=this.isInactiveView?0===r.status||2===r.status:1===r.status,n=r.name?.toLowerCase().includes(e.toLowerCase())??!0;return i&&n}),this.paginator&&(this.paginator.length=this.filteredHpProducts.length,this.paginator.firstPage())}getPaginatedHpProducts(){const e=this.currentPage*this.pageSize;return this.filteredHpProducts.slice(e,e+this.pageSize)}onPageChange(e){this.currentPage=e.pageIndex,this.pageSize=e.pageSize}applyFilter(e){const r=e.target.value.trim();this.updateFilteredHpProducts(r)}getStatusDisplay(e){return void 0===e?"Unknown":1===e?"Active":"Inactive"}getTotalPages(){return Math.ceil(this.filteredHpProducts.length/this.pageSize)}getPageNumbers(){const e=this.getTotalPages();return Array.from({length:e},(r,i)=>i)}goToPage(e){e>=0&&e<this.getTotalPages()&&(this.currentPage=e)}goToPreviousPage(){this.currentPage>0&&this.currentPage--}goToNextPage(){this.currentPage<this.getTotalPages()-1&&this.currentPage++}toggleView(){this.isInactiveView=!this.isInactiveView,this.updateFilteredHpProducts()}deleteHpProduct(e){confirm("Are you sure you want to delete this HP product?")&&this.hpProductService.deleteHpProduct(e).subscribe({next:()=>{this.hpProducts=this.hpProducts.map(r=>r.id===e?{...r,status:0}:r),this.updateFilteredHpProducts(),this.paginator&&(this.paginator.length=this.filteredHpProducts.length)},error:r=>{console.error("Error deleting HP product",r),alert("Failed to delete HP product")}})}restoreHpProduct(e){confirm("Are you sure you want to restore this HP product?")&&this.hpProductService.restoreHpProduct(e).subscribe({next:r=>{const i=this.hpProducts.findIndex(n=>n.id===e);-1!==i&&(this.hpProducts[i]=r,this.updateFilteredHpProducts())},error:r=>{console.error("Error restoring HP product",r),alert("Failed to restore HP product")}})}onImageError(e){e.target.src="https://via.placeholder.com/48?text=No+Image"}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(p.V))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-hp-product-list"]],viewQuery:function(r,i){if(1&r&&t.GBs(l.iy,5),2&r){let n;t.mGM(n=t.lsd())&&(i.paginator=n.first)}},decls:44,vars:8,consts:[[1,"container","mt-5","mx-auto","px-4"],[1,"row","justify-content-center"],[1,"col-md-10"],[1,"card","shadow-lg","p-0","bg-white","rounded-lg"],[1,"bg-blue-600","text-white","p-4","flex","justify-between","items-center","rounded-t-lg"],[1,"text-lg","font-semibold"],[1,"text-white","hover:bg-blue-700","px-4","py-2","rounded",3,"click"],[1,"p-4"],[1,"mb-4"],["type","text","placeholder","Filter HP products...",1,"form-control","p-2","border","rounded-lg","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","w-full",3,"keyup"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle"],[1,"bg-gray-800","text-white"],["scope","col",1,"px-4","py-3"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"mt-4","flex","justify-center"],["aria-label","Page navigation example"],[1,"pagination","flex","items-center","space-x-1"],[1,"page-item"],["href","javascript:void(0)","aria-label","Previous",1,"page-link","px-3","py-2","bg-white","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["aria-hidden","true"],[1,"sr-only"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["href","javascript:void(0)","aria-label","Next",1,"page-link","px-3","py-2","bg-white","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],[1,"hover:bg-gray-50"],[1,"px-4","py-2","align-middle"],[1,"w-12","h-12","object-cover","rounded-md","border","border-gray-200",3,"error","src","alt"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"bi","me-1",3,"ngClass"],["title","Edit",1,"btn","btn-primary","btn-sm","me-2","hover:bg-blue-600","transition-colors","duration-200",3,"routerLink"],[1,"bi","bi-pencil-square"],["class","btn btn-danger btn-sm hover:bg-red-700 transition-colors duration-200","title","Delete",3,"click",4,"ngIf"],["class","btn btn-success btn-sm hover:bg-green-700 transition-colors duration-200","title","Restore",3,"click",4,"ngIf"],["title","Delete",1,"btn","btn-danger","btn-sm","hover:bg-red-700","transition-colors","duration-200",3,"click"],[1,"bi","bi-trash"],["title","Restore",1,"btn","btn-success","btn-sm","hover:bg-green-700","transition-colors","duration-200",3,"click"],[1,"bi","bi-arrow-counterclockwise"],["href","javascript:void(0)",1,"page-link","px-3","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6),t.k0s(),t.j41(7,"button",6),t.bIt("click",function(){return i.toggleView()}),t.EFF(8),t.k0s()(),t.j41(9,"div",7)(10,"div",8)(11,"input",9),t.bIt("keyup",function(k){return i.applyFilter(k)}),t.k0s()(),t.j41(12,"div",10)(13,"table",11)(14,"thead",12)(15,"tr")(16,"th",13),t.EFF(17,"Photo"),t.k0s(),t.j41(18,"th",13),t.EFF(19,"Name"),t.k0s(),t.j41(20,"th",13),t.EFF(21,"Price"),t.k0s(),t.j41(22,"th",13),t.EFF(23,"Status"),t.k0s(),t.j41(24,"th",13),t.EFF(25,"Actions"),t.k0s()()(),t.j41(26,"tbody"),t.DNE(27,m,16,21,"tr",14),t.k0s()()(),t.j41(28,"div",15)(29,"nav",16)(30,"ul",17)(31,"li",18)(32,"a",19),t.bIt("click",function(){return i.goToPreviousPage()}),t.j41(33,"span",20),t.EFF(34,"\xab"),t.k0s(),t.j41(35,"span",21),t.EFF(36,"Previous"),t.k0s()()(),t.DNE(37,f,3,7,"li",22),t.j41(38,"li",18)(39,"a",23),t.bIt("click",function(){return i.goToNextPage()}),t.j41(40,"span",20),t.EFF(41,"\xbb"),t.k0s(),t.j41(42,"span",21),t.EFF(43,"Next"),t.k0s()()()()()()()()()()()),2&r&&(t.R7$(6),t.SpI(" ",i.isInactiveView?"Inactive HP Products":"Active HP Products"," "),t.R7$(2),t.SpI(" ",i.isInactiveView?"Show Active HP Products":"Show Inactive HP Products"," "),t.R7$(19),t.Y8G("ngForOf",i.getPaginatedHpProducts()),t.R7$(4),t.AVh("disabled",0===i.currentPage),t.R7$(6),t.Y8G("ngForOf",i.getPageNumbers()),t.R7$(),t.AVh("disabled",i.currentPage===i.getTotalPages()-1))},dependencies:[c.MD,c.YU,c.Sq,c.bT,d.Wk],styles:[".table-responsive[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.pagination[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}"]})}}return o})()}}]);