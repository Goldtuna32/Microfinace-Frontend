<div class="container-fluid animate__animated animate__fadeIn">
  <div class="row justify-content-center">
    <div class="col-xl-10 col-lg-12">
      <!-- Main Card -->
      <div class="card shadow-lg border-0 rounded-lg">
        <!-- Card Header with Gradient Background -->
        <div class="card-header bg-gradient-primary-to-secondary text-white py-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h3 class="mb-0">
                <i class="bi bi-box-seam me-2"></i>
                {{ isInactiveView ? 'Inactive HP Products' : 'Active HP Products' }}
              </h3>
              <p class="mb-0 small opacity-75">
                <i class="bi bi-info-circle me-1"></i>
                {{ isInactiveView ? 'Viewing archived products' : 'Manage active products' }}
              </p>
            </div>
            <div>
              <button class="btn btn-light btn-sm" (click)="toggleView()">
                <i class="bi me-1" [class.bi-toggle-on]="!isInactiveView" [class.bi-toggle-off]="isInactiveView"></i>
                {{ isInactiveView ? 'View Active' : 'View Inactive' }}
              </button>
            </div>
          </div>
        </div>

        <!-- Card Body -->
        <div class="card-body">
          <!-- Filter and Stats Row -->
          <div class="row mb-4">
            <div class="col-md-8">
              <div class="input-group">
                <span class="input-group-text bg-light">
                  <i class="bi bi-search text-muted"></i>
                </span>
                <input type="text" class="form-control form-control-lg" 
                       placeholder="Filter products..."
                       (keyup)="applyFilter($event)"
                       aria-label="Filter products">
              </div>
            </div>
            <div class="col-md-4">
              <div class="d-flex justify-content-end">
                <div class="me-3 text-center">
                  <h6 class="mb-0 text-muted">Total</h6>
                  <h4 class="mb-0">{{ hpProducts.length }}</h4>
                </div>
                <div class="text-center">
                  <h6 class="mb-0 text-muted">Showing</h6>
                  <h4 class="mb-0">{{ getPaginatedHpProducts().length }}</h4>
                </div>
              </div>
            </div>
          </div>

          <!-- Table -->
          <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
              <thead class="table-light">
                <tr>
                  <th scope="col" class="ps-4" style="width: 80px">Photo</th>
                  <th scope="col" class="ps-4">Product</th>
                  <th scope="col" class="text-center">Price</th>
                  <th scope="col" class="text-center">Status</th>
                  <th scope="col" class="text-end pe-4">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let hpProduct of getPaginatedHpProducts()" 
                    [class.table-active]="hoveredRow === hpProduct.id"
                    (mouseenter)="hoveredRow = hpProduct.id" 
                    (mouseleave)="hoveredRow = null">
                  <!-- Photo Column -->
                  <td class="ps-4">
                    <div class="product-photo-container">
                      <img [src]="hpProduct.hpProductPhoto" 
                           alt="{{ hpProduct.name }} photo"
                           class="img-thumbnail rounded"
                           (error)="onImageError($event)">
                    </div>
                  </td>
                  
                  <!-- Product Info Column -->
                  <td class="ps-4">
                    <div class="d-flex flex-column">
                      <h6 class="mb-0">{{ hpProduct.name }}</h6>
                      <small class="text-muted">ID: {{ hpProduct.id }}</small>
                    </div>
                  </td>
                  
                  <!-- Price Column -->
                  <td class="text-center">
                    <span class="fw-bold text-primary">
                      {{ hpProduct.price | currency:'USD':'symbol':'1.2-2' }}
                    </span>
                  </td>
                  
                  <!-- Status Column -->
                  <td class="text-center">
                    <span class="badge rounded-pill py-2 px-3" 
                          [ngClass]="{
                            'bg-success': hpProduct.status === 1,
                            'bg-danger': hpProduct.status === 2 || hpProduct.status === 0,
                            'bg-secondary': hpProduct.status === undefined
                          }">
                      <i class="bi me-1" [ngClass]="{
                        'bi-check-circle': hpProduct.status === 1,
                        'bi-x-circle': hpProduct.status === 2 || hpProduct.status === 0,
                        'bi-question-circle': hpProduct.status === undefined
                      }"></i>
                      {{ getStatusDisplay(hpProduct.status) }}
                    </span>
                  </td>
                  
                  <!-- Actions Column -->
                  <td class="text-end pe-4">
                    <div class="btn-group" role="group">
                      <button class="btn btn-sm btn-outline-primary me-1"
                              title="Edit"
                              [routerLink]="['/edit-hp-product', hpProduct.id]">
                        <i class="bi bi-pencil-square"></i>
                      </button>
                      
                      <button *ngIf="!isInactiveView"
                              class="btn btn-sm btn-outline-danger me-1"
                              title="Delete"
                              (click)="deleteHpProduct(hpProduct.id)">
                        <i class="bi bi-trash"></i>
                      </button>
                      
                      <button *ngIf="isInactiveView"
                              class="btn btn-sm btn-outline-success"
                              title="Restore"
                              (click)="restoreHpProduct(hpProduct.id)">
                        <i class="bi bi-arrow-counterclockwise"></i>
                      </button>
                    </div>
                  </td>
                </tr>
                
                <!-- Empty State -->
                <tr *ngIf="getPaginatedHpProducts().length === 0">
                  <td colspan="5" class="text-center py-4">
                    <div class="empty-state">
                      <i class="bi bi-inboxes fs-1 text-muted"></i>
                      <h5 class="mt-3">No products found</h5>
                      <p class="text-muted">Try adjusting your search or filter</p>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination -->
          <div class="row mt-4">
            <div class="col-md-6">
              <div class="d-flex align-items-center">
                <span class="text-muted me-2">Items per page:</span>
                <select class="form-select form-select-sm w-auto" [(ngModel)]="pageSize" (change)="currentPage = 0">
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="50">50</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <nav aria-label="Page navigation" class="float-md-end">
                <ul class="pagination pagination-sm mb-0">
                  <li class="page-item" [class.disabled]="currentPage === 0">
                    <a class="page-link" href="javascript:void(0)" (click)="goToPreviousPage()">
                      <i class="bi bi-chevron-left"></i>
                    </a>
                  </li>
                  <li *ngFor="let page of getPageNumbers()" class="page-item" [class.active]="currentPage === page">
                    <a class="page-link" href="javascript:void(0)" (click)="goToPage(page)">
                      {{ page + 1 }}
                    </a>
                  </li>
                  <li class="page-item" [class.disabled]="currentPage === getTotalPages() - 1">
                    <a class="page-link" href="javascript:void(0)" (click)="goToNextPage()">
                      <i class="bi bi-chevron-right"></i>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>