<div class="container-fluid animate__animated animate__fadeIn">
  <div class="row">
    <div class="col-12">
      <div class="card shadow-lg border-0 rounded-lg mt-4">
        <!-- Card Header -->
        <div class="card-header bg-gradient-primary text-white py-3">
          <div class="d-flex justify-content-between align-items-center">
            <h2 class="h3 mb-0">
              <i class="bi bi-clock-history me-2"></i>Transaction History
            </h2>
            <div class="dropdown">
              <button class="btn btn-light btn-sm dropdown-toggle" type="button" id="timeRangeDropdown" 
                      data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-calendar-range me-1"></i> Last 30 Days
              </button>
              <ul class="dropdown-menu" aria-labelledby="timeRangeDropdown">
                <li><a class="dropdown-item" href="#">Last 7 Days</a></li>
                <li><a class="dropdown-item" href="#">Last 30 Days</a></li>
                <li><a class="dropdown-item" href="#">Last 90 Days</a></li>
                <li><a class="dropdown-item" href="#">This Year</a></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Card Body -->
        <div class="card-body">
          <div class="row g-4">
            <!-- Summary Cards -->
            <div class="col-md-3">
              <div class="card stat-card bg-success bg-opacity-10 border-success border-start border-4 h-100">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <div>
                      <h6 class="text-muted mb-2">Total Credit</h6>
                      <h3 class="mb-0">$12,345</h3>
                    </div>
                    <div class="avatar-sm rounded-circle bg-success bg-opacity-25 p-3">
                      <i class="bi bi-arrow-down-circle fs-3 text-success"></i>
                    </div>
                  </div>
                  <p class="text-success mt-3 mb-0">
                    <span class="badge bg-success"><i class="bi bi-arrow-up"></i> 12.5%</span>
                    <span class="ms-2">vs last month</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="card stat-card bg-danger bg-opacity-10 border-danger border-start border-4 h-100">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <div>
                      <h6 class="text-muted mb-2">Total Debit</h6>
                      <h3 class="mb-0">$8,765</h3>
                    </div>
                    <div class="avatar-sm rounded-circle bg-danger bg-opacity-25 p-3">
                      <i class="bi bi-arrow-up-circle fs-3 text-danger"></i>
                    </div>
                  </div>
                  <p class="text-danger mt-3 mb-0">
                    <span class="badge bg-danger"><i class="bi bi-arrow-down"></i> 3.2%</span>
                    <span class="ms-2">vs last month</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="card stat-card bg-info bg-opacity-10 border-info border-start border-4 h-100">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <div>
                      <h6 class="text-muted mb-2">Transactions</h6>
                      <h3 class="mb-0">1,234</h3>
                    </div>
                    <div class="avatar-sm rounded-circle bg-info bg-opacity-25 p-3">
                      <i class="bi bi-list-check fs-3 text-info"></i>
                    </div>
                  </div>
                  <p class="text-info mt-3 mb-0">
                    <span class="badge bg-info"><i class="bi bi-arrow-up"></i> 8.7%</span>
                    <span class="ms-2">vs last month</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="card stat-card bg-warning bg-opacity-10 border-warning border-start border-4 h-100">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <div>
                      <h6 class="text-muted mb-2">Avg. Amount</h6>
                      <h3 class="mb-0">$256</h3>
                    </div>
                    <div class="avatar-sm rounded-circle bg-warning bg-opacity-25 p-3">
                      <i class="bi bi-currency-dollar fs-3 text-warning"></i>
                    </div>
                  </div>
                  <p class="text-warning mt-3 mb-0">
                    <span class="badge bg-warning text-dark"><i class="bi bi-arrow-down"></i> 1.5%</span>
                    <span class="ms-2">vs last month</span>
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Charts and Table Row -->
          <div class="row mt-4">
            <!-- Chart Column -->
            <div class="col-lg-6">
              <div class="card h-100 shadow-sm">
                <div class="card-header bg-transparent border-bottom py-3">
                  <h5 class="mb-0">
                    <i class="bi bi-bar-chart-line me-2 text-primary"></i>Transaction Overview
                  </h5>
                </div>
                <div class="card-body">
                  <apx-chart
                    [dataLabels]="area1CAC.dataLabels!"
                    [chart]="area1CAC.chart!"
                    [stroke]="area1CAC.stroke!"
                    [colors]="area1CAC.colors!"
                    [series]="area1CAC.series!"
                    [tooltip]="area1CAC.tooltip!"
                    [xaxis]="area1CAC.xaxis!"
                  ></apx-chart>
                </div>
              </div>
            </div>

            <!-- Table Column -->
            <div class="col-lg-6">
              <div class="card h-100 shadow-sm">
                <div class="card-header bg-transparent border-bottom py-3">
                  <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">
                      <i class="bi bi-table me-2 text-primary"></i>Recent Transactions
                    </h5>
                    <div class="input-group input-group-sm" style="width: 200px;">
                      <span class="input-group-text bg-light"><i class="bi bi-search"></i></span>
                      <input type="text" class="form-control" placeholder="Search transactions...">
                    </div>
                  </div>
                </div>
                <div class="card-body p-0">
                  <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource" matSort class="table table-hover table-borderless mb-0">
                      <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="ps-4">ID</th>
                        <td mat-cell *matCellDef="let transaction" class="ps-4">{{ transaction.id }}</td>
                      </ng-container>
                      <ng-container matColumnDef="transactionDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
                        <td mat-cell *matCellDef="let transaction">{{ transaction.transactionDate | date: 'short' }}</td>
                      </ng-container>
                      <ng-container matColumnDef="amount">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
                        <td mat-cell *matCellDef="let transaction">
                          <span [ngClass]="transaction.amount > 0 ? 'text-success' : 'text-danger'">
                            {{ transaction.amount | currency }}
                          </span>
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef>Status</th>
                        <td mat-cell *matCellDef="let transaction">
                          <span class="badge rounded-pill py-1 px-2" 
                                [ngClass]="transaction.status === 6 ? 'bg-success' : 'bg-danger'">
                            <i [class]="transaction.status === 6 ? 'bi bi-check-circle me-1' : 'bi bi-x-circle me-1'"></i>
                            {{ transaction.status == 6 ? 'Success' : 'Failed' }}
                          </span>
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef>Actions</th>
                        <td mat-cell *matCellDef="let transaction">
                          <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i>
                          </button>
                          <button class="btn btn-sm btn-outline-secondary ms-1">
                            <i class="bi bi-receipt"></i>
                          </button>
                        </td>
                      </ng-container>
                      
                      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="bg-light"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
                          [@rowAnimation]="row.state" 
                          (mouseenter)="row.hovered = true" 
                          (mouseleave)="row.hovered = false"
                          [class.table-primary]="row.hovered"></tr>
                    </table>
                  </div>
                </div>
                <div class="card-footer bg-transparent border-top py-2">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="text-muted small">
                      Showing 1 to 10 of 1,234 entries
                    </div>
                    <nav aria-label="Page navigation">
                      <ul class="pagination pagination-sm mb-0">
                        <li class="page-item disabled">
                          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                          <a class="page-link" href="#">Next</a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card Footer with Export Buttons -->
        <div class="card-footer bg-light border-top py-3">
          <div class="d-flex justify-content-between align-items-center">
            <div class="text-muted small">
              <i class="bi bi-info-circle me-1"></i> Last updated: {{ currentDate | date:'medium' }}
            </div>
            <div>
              <button (click)="downloadReport('pdf')" class="btn btn-danger me-2">
                <i class="bi bi-file-earmark-pdf me-1"></i> Export PDF
              </button>
              <button (click)="downloadReport('excel')" class="btn btn-success">
                <i class="bi bi-file-earmark-excel me-1"></i> Export Excel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>  